% --- Code styles (preamble) -----------------------------------------------

% Engines
\usepackage{listings} % you still use \lstset for some legacy code blocks
\usepackage{minted}   % requires -shell-escape and pygmentize installed
\newmintinline[dafnyinline]{dafny}{escapeinside=||}


% tcolorbox with minted engine
\usepackage[most]{tcolorbox}
\tcbuselibrary{minted,skins,breakable}

% Algorithms (unchanged)
\usepackage{algorithm}
% \usepackage{algpseudocode}
\usepackage{algpseudocodex}
\newcommand{\Generic}[1]{\texttt{\textbf{#1}}}

% Colors and global minted options
\definecolor{mintedbackground}{rgb}{1, 1, 1}
\definecolor{mintedframe}{rgb}{1,1,1}
\definecolor{mintedborder}{rgb}{0.75,0.75,0.75}

\setminted{
  bgcolor=mintedbackground,
  frame=lines,
  mathescape=true,
  escapeinside=||,
  framesep=2mm,
  autogobble,
  linenos,
  numbersep=5pt,
  xleftmargin=5pt,
}

% --- Legacy listings config (unchanged) -----------------------------------
\lstset{
  frame=tb,
  language=Python,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\upshape},
  numbers=left,
  numbersep=-5pt,
  keywordstyle=\color{black}\bfseries,
  breaklines=true,
  breakatwhitespace=true,
  mathescape=true,
  tabsize=2
}

